<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¼ë©´ ì¡°ë¦¬ íƒ€ì´ë¨¸ ğŸœ â€” Split</title>
  <style>
    :root{--bg:#f7f7fb;--card:#fff;--text:#1f2937;--muted:#6b7280;--brand:#ff7043;--ok:#22c55e;--info:#2563eb;--accent:#7c3aed;--warn:#ef6c00}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Arial,sans-serif;background:var(--bg);color:var(--text)}
    header{padding:14px 18px;background:linear-gradient(90deg,#fff,#faf7f5)}
    header h1{margin:0;font-size:20px}
    header .sub{margin:4px 0 0;color:var(--muted);font-size:12px}

    .wrap{display:grid;grid-template-columns: 360px 1fr;gap:12px;max-width:1200px;margin:14px auto;padding:0 12px;height:calc(100vh - 80px)}
    @media (max-width: 960px){ .wrap{grid-template-columns:1fr;height:auto} }

    .card{background:var(--card);border-radius:14px;box-shadow:0 4px 16px rgba(0,0,0,.06);padding:12px}
    .section h3{margin:6px 4px 10px;font-size:14px;color:#111827}
    .grid{display:grid;grid-template-columns: repeat(auto-fit, minmax(110px,1fr));gap:6px}

    .btn{border:0;border-radius:10px;padding:10px 10px;cursor:pointer;font-weight:700;box-shadow:0 2px 0 rgba(0,0,0,.06);transition:.08s}
    .btn:active{transform:translateY(1px);box-shadow:none}
    .lang{background:var(--accent);color:#fff}
    .ramen{background:var(--brand);color:#fff}
    .heat{background:var(--warn);color:#fff}
    .topping{background:#10b981;color:#fff}
    .egg{background:#059669;color:#fff}
    .ghost{background:#e5e7eb;color:#111827}
    .action{background:var(--info);color:#fff}

    /* ì„ íƒ(í™œì„±) ì‹œê°í™” */
    .selected{outline:3px solid #111827; outline-offset:1px; position:relative}
    .selected::after{content:"âœ”"; position:absolute; right:8px; top:6px; font-size:12px}
    .multi.selected{background:#16a34a;color:#fff}

    /* ì˜¤ë¥¸ìª½ íŒ¨ë„ */
    .right .topbar{display:flex;flex-wrap:wrap;gap:6px;align-items:center;margin-bottom:8px}
    .pill{padding:6px 10px;border-radius:999px;background:#eef2f7;color:#374151;font-size:12px}
    #timer{font-size:60px;font-weight:900;letter-spacing:1px;text-align:center;margin:6px 0}
    #output{min-height:88px;background:#f1f5f9;border-radius:12px;padding:12px;font-size:16px;line-height:1.6}
    .controls{display:flex;justify-content:space-between;gap:8px;margin:6px 0}

    details summary{cursor:pointer;font-weight:800}
  </style>
</head>
<body>
  <header>
    <h1 id="title">ë¼ë©´ ì¡°ë¦¬ íƒ€ì´ë¨¸ ğŸœ</h1>
    <p class="sub" id="dev">ê°œë°œì: ê°€ì¹˜ìˆëŠ”ë¯¸ë˜êµìœ¡ì—°êµ¬ì†Œ ëŒ€í‘œ ê¹€ë³‘ì°¬ Â· Developer: B.C. Kim</p>
  </header>

  <main class="wrap">
    <!-- LEFT: ì„ íƒ ì˜ì—­ (ì–¸ì–´ â†’ ë¼ë©´ â†’ ê°€ì—´ë°©ì‹ â†’ í† í•‘) -->
    <aside class="card left" id="left">
      <div class="section">
        <h3 id="langLabel">â‘  ì–¸ì–´ ì„ íƒ / TTS</h3>
        <div class="grid" id="langButtons"></div>
        <div style="margin-top:6px"><button class="btn ghost" id="toggleTts">ğŸ”Š TTS ON</button></div>
      </div>
      <div class="section">
        <h3 id="ramenLabel">â‘¡ ë¼ë©´ ì„ íƒ</h3>
        <div class="grid" id="ramenButtons"></div>
      </div>
      <div class="section">
        <h3 id="heatLabel">â‘¢ ê°€ì—´ ë°©ì‹</h3>
        <div class="grid">
          <button class="btn heat single" data-heat="gas" id="gasBtn">ê°€ìŠ¤ë ˆì¸ì§€</button>
          <button class="btn heat single" data-heat="ind" id="indBtn">ì¸ë•ì…˜</button>
        </div>
        <p class="sub" id="heatNote">â€» ì¸ë•ì…˜ì€ ë¬¼ ë“ì´ê¸° ì‹œê°„ì´ ì•½ 20% ë‹¨ì¶•</p>
      </div>
      <div class="section">
        <h3 id="topLabel">â‘£ í† í•‘ ì„ íƒ</h3>
        <div class="grid">
          <button class="btn topping multi" data-top="rice" id="t1">ë–¡êµ­ë–¡</button>
          <button class="btn topping multi" data-top="onion" id="t2">íŒŒ</button>
          <button class="btn topping multi" data-top="cheese" id="t3">ì¹˜ì¦ˆ</button>
          <button class="btn egg single" data-egg="soft" id="e1">ê³„ë€ ë°˜ìˆ™</button>
          <button class="btn egg single" data-egg="hard" id="e2">ê³„ë€ ì™„ìˆ™</button>
        </div>
      </div>
    </aside>

    <!-- RIGHT: ì§„í–‰ í˜„í™© -->
    <section class="card right">
      <div class="topbar" id="statusRow"></div>
      <div class="controls">
        <div>
          <button class="btn action" id="startBtn">ì‹œì‘</button>
          <button class="btn ghost" id="pauseBtn">ì¼ì‹œì •ì§€</button>
          <button class="btn ghost" id="resetBtn">ì´ˆê¸°í™”</button>
          <button class="btn action" id="nextBtn">ë‹¤ìŒ ë‹¨ê³„</button>
        </div>
        <div>
          <button class="btn ghost" id="minus10">-10s</button>
          <button class="btn ghost" id="plus10">+10s</button>
        </div>
      </div>
      <div id="timer">00:00</div>
      <div id="output">ì™¼ìª½ì—ì„œ ë¼ë©´ì„ ì„ íƒí•˜ë©´ ì—¬ê¸°ì„œ ë‹¨ê³„ë³„ë¡œ ì•„ì£¼ ìì„¸íˆ ì•ˆë‚´í•˜ê³ , TTSë¡œ ì½ì–´ë“œë¦½ë‹ˆë‹¤.</div>

      <details style="margin-top:8px">
        <summary id="detailSummary">ì„¸ë¶€ ë‹¨ê³„ ë³´ê¸°</summary>
        <ol id="stepList"></ol>
      </details>
    </section>
  </main>

  <script>
    // ===== ë ˆì‹œí”¼ ë°ì´í„° =====
    const RECIPES = {
      shin:{id:'shin', steps:[{type:'boil',sec:120,params:{water:'550 ml'}},{type:'cookSoup',sec:270,params:{desc:'ë©´+ë¶„ë§ìŠ¤í”„'}},{type:'finish',sec:0}]},
      neoguri:{id:'neoguri', steps:[{type:'boil',sec:120,params:{water:'550 ml'}},{type:'cookSoup',sec:300,params:{desc:'ë©´+ìŠ¤í”„'}},{type:'finish',sec:0}]},
      chapagetti:{id:'chapagetti', steps:[{type:'boil',sec:120,params:{water:'600 ml'}},{type:'cookNoodle',sec:240,params:{desc:'ë©´'}},{type:'drainKeep',sec:0,params:{left:'5~6 í°ìˆ '}},{type:'mixDry',sec:60,params:{desc:'ë¶„ë§+ìœ ì„±ìŠ¤í”„'}},{type:'finish',sec:0}]},
      jjawang:{id:'jjawang', steps:[{type:'boil',sec:120,params:{water:'ì¶©ë¶„íˆ'}},{type:'cookNoodle',sec:300,params:{desc:'ë©´'}},{type:'drainKeep',sec:0,params:{left:'5~6 í°ìˆ '}},{type:'mixDry',sec:90,params:{desc:'ì†ŒìŠ¤'}},{type:'finish',sec:0}]},
      ansin:{id:'ansin', steps:[{type:'boil',sec:120,params:{water:'550 ml'}},{type:'cookSoup',sec:270,params:{desc:'ë©´+ìŠ¤í”„'}},{type:'finish',sec:0}]},
      buldak:{id:'buldak', steps:[{type:'boil',sec:120,params:{water:'600 ml'}},{type:'cookNoodle',sec:300,params:{desc:'ë©´'}},{type:'drainKeep',sec:0,params:{left:'êµ­ë¬¼ 8ìŠ¤í‘¼'}},{type:'stirFry',sec:30,params:{desc:'ì•¡ìƒìŠ¤í”„'}},{type:'add',sec:0,params:{desc:'í›„ë ˆì´í¬'}},{type:'finish',sec:0}]},
      samyang:{id:'samyang', steps:[{type:'boil',sec:120,params:{water:'550 ml'}},{type:'cookSoupRange',sec:210,params:{min:'3.5',max:'4'}},{type:'finish',sec:0}]},
      jin:{id:'jin', steps:[{type:'boil',sec:120,params:{water:'550 ml'}},{type:'cookSoup',sec:240,params:{desc:'ë©´+ìŠ¤í”„'}},{type:'finish',sec:0}]},
      bibim:{id:'bibim', steps:[{type:'boil',sec:120,params:{water:'ì¶©ë¶„íˆ'}},{type:'cookNoodle',sec:210,params:{desc:'ë©´'}},{type:'rinseCold',sec:30,params:{}},{type:'mixDry',sec:30,params:{desc:'ë¹„ë¹”ì†ŒìŠ¤'}},{type:'finish',sec:0}]},
      wang:{id:'wang', steps:[{type:'pourCup',sec:0,params:{water:'í‘œì‹œì„ '}},{type:'wait',sec:210,params:{desc:'ëšœê»‘ ë‹«ê¸°'}},{type:'finish',sec:0}]}
    };

    // ===== ë²ˆì—­ ì‚¬ì „ =====
    const I18N={
      'ko-KR':{title:'ë¼ë©´ ì¡°ë¦¬ íƒ€ì´ë¨¸ ğŸœ',dev:'ê°œë°œì: ê°€ì¹˜ìˆëŠ”ë¯¸ë˜êµìœ¡ì—°êµ¬ì†Œ ëŒ€í‘œ ê¹€ë³‘ì°¬ Â· Developer: B.C. Kim',
        labels:{lang:'â‘  ì–¸ì–´ ì„ íƒ / TTS',ramen:'â‘¡ ë¼ë©´ ì„ íƒ',heat:'â‘¢ ê°€ì—´ ë°©ì‹',topping:'â‘£ í† í•‘ ì„ íƒ',progress:'ì§„í–‰ í˜„í™©',detail:'ì„¸ë¶€ ë‹¨ê³„ ë³´ê¸°',heatNote:'â€» ì¸ë•ì…˜ì€ ë¬¼ ë“ì´ê¸° ì‹œê°„ì´ ì•½ 20% ë‹¨ì¶•'},
        ui:{ start:'ì‹œì‘', pause:'ì¼ì‹œì •ì§€', reset:'ì´ˆê¸°í™”', next:'ë‹¤ìŒ ë‹¨ê³„', done:'ì™„ë£Œ!', step:'í˜„ì¬ ë‹¨ê³„', ttsOn:'ğŸ”Š TTS ON', ttsOff:'ğŸ”‡ TTS OFF' },
        heat:{gas:'ê°€ìŠ¤ë ˆì¸ì§€',ind:'ì¸ë•ì…˜'}, toppings:{rice:'ë–¡êµ­ë–¡',onion:'íŒŒ',cheese:'ì¹˜ì¦ˆ',soft:'ê³„ë€ ë°˜ìˆ™',hard:'ê³„ë€ ì™„ìˆ™'},
        ramenNames:{shin:'ì‹ ë¼ë©´',neoguri:'ë„ˆêµ¬ë¦¬',chapagetti:'ì§œíŒŒê²Œí‹°',jjawang:'ì§œì™•',ansin:'ì•ˆì„±íƒ•ë©´',buldak:'ë¶ˆë‹­ë³¶ìŒë©´',samyang:'ì‚¼ì–‘ë¼ë©´',jin:'ì§„ë¼ë©´',bibim:'ë¹„ë¹”ë©´',wang:'ì™•ëšœê»‘'},
        step:{ boil:w=>`ë¬¼ ${w.water||''} ë“ì´ê¸°`, cookSoup:p=>`${p.desc} ë„£ê³  ë“ì´ê¸°`, cookSoupRange:p=>`ë©´+ìŠ¤í”„ ë“ì´ê¸° (${p.min}~${p.max}ë¶„)`, cookNoodle:p=>`${p.desc} ì‚¶ê¸°`, drainKeep:p=>`ë¬¼ì„ ë²„ë¦¬ê³  ${p.left} ë‚¨ê¸°ê¸°`, mixDry:p=>`${p.desc} ë„£ê³  ë¹„ë¹„ê¸°`, stirFry:p=>`${p.desc} ë„£ê³  ë³¶ê¸°`, rinseCold:()=>`ì°¬ë¬¼ì— í—¹êµ¬ê¸°`, add:p=>`${p.desc} ë„£ê¸°`, pourCup:()=>`í‘œì‹œì„ ê¹Œì§€ ëœ¨ê±°ìš´ ë¬¼ ë¶“ê¸°`, wait:()=>`ê¸°ë‹¤ë¦¬ê¸° (ëšœê»‘ ë‹«ê¸°)`, finish:()=>`ì™„ì„±! ê·¸ë¦‡ì— ë‹´ì•„ í† í•‘ì„ ì˜¬ë¦¬ì„¸ìš”.` }, egg:{soft:'ë°˜ìˆ™ì€ ë“ê¸° 2~3ë¶„ í›„ íˆ¬ì…', hard:'ì™„ìˆ™ì€ ì´ˆë°˜ì— íˆ¬ì…'}
      },
      'en-US':{title:'Ramen Cooking Timer ğŸœ',dev:'Developer: B.C. Kim',
        labels:{lang:'â‘  Select Language / TTS',ramen:'â‘¡ Select Ramen',heat:'â‘¢ Heat Source',topping:'â‘£ Select Toppings',progress:'Progress',detail:'Show steps',heatNote:'â€» Induction reduces boiling time by ~20%'},
        ui:{ start:'Start', pause:'Pause', reset:'Reset', next:'Next Step', done:'Done!', step:'Current Step', ttsOn:'ğŸ”Š TTS ON', ttsOff:'ğŸ”‡ TTS OFF' },
        heat:{gas:'Gas Stove',ind:'Induction'}, toppings:{rice:'Rice Cake',onion:'Green Onion',cheese:'Cheese',soft:'Soft-boiled Egg',hard:'Hard-boiled Egg'},
        ramenNames:{shin:'Shin Ramyun',neoguri:'Neoguri',chapagetti:'Chapagetti',jjawang:'Jjawang',ansin:'Anseongtangmyun',buldak:'Buldak Hot Chicken',samyang:'Samyang Ramen',jin:'Jin Ramen',bibim:'Bibim Men',wang:'King Lid (Cup)'} ,
        step:{ boil:w=>`Boil ${w.water||''} of water`, cookSoup:p=>`Add ${p.desc} and cook`, cookSoupRange:p=>`Cook noodles + soup (${p.min}â€“${p.max} min)`, cookNoodle:p=>`Cook ${p.desc}`, drainKeep:p=>`Drain, keep ${p.left} water`, mixDry:p=>`Add ${p.desc} and mix`, stirFry:p=>`Add ${p.desc} and stir-fry`, rinseCold:()=>`Rinse with cold water`, add:p=>`Add ${p.desc}`, pourCup:()=>`Pour hot water to the line`, wait:()=>`Wait with lid closed`, finish:()=>`Serve and add toppings.` }, egg:{soft:'Soft-boiled: add 2â€“3 min after boiling', hard:'Hard-boiled: add at the start'}
      },
      'zh-CN':{title:'æ‹‰é¢çƒ¹é¥ªè®¡æ—¶å™¨ ğŸœ',dev:'å¼€å‘è€…: B.C. Kim',
        labels:{lang:'â‘  é€‰æ‹©è¯­è¨€ / è¯­éŸ³',ramen:'â‘¡ é€‰æ‹©æ‹‰é¢',heat:'â‘¢ åŠ çƒ­æ–¹å¼',topping:'â‘£ é€‰æ‹©é…æ–™',progress:'è¿›åº¦',detail:'æŸ¥çœ‹æ­¥éª¤',heatNote:'â€» ç”µç£ç‚‰ç…®æ²¸æ—¶é—´çº¦ç¼©çŸ­20%'},
        ui:{ start:'å¼€å§‹', pause:'æš‚åœ', reset:'é‡ç½®', next:'ä¸‹ä¸€æ­¥', done:'å®Œæˆ!', step:'å½“å‰æ­¥éª¤', ttsOn:'ğŸ”Šè¯­éŸ³å¼€', ttsOff:'ğŸ”‡è¯­éŸ³å…³' },
        heat:{gas:'ç‡ƒæ°”ç¶',ind:'ç”µç£ç‚‰'}, toppings:{rice:'å¹´ç³•ç‰‡',onion:'è‘±',cheese:'å¥¶é…ª',soft:'æºå¿ƒè›‹',hard:'å…¨ç†Ÿè›‹'},
        ramenNames:{shin:'è¾›æ‹‰é¢',neoguri:'ä¹Œé¾™é¢(Neoguri)',chapagetti:'ç‚¸é…±é¢(Chapagetti)',jjawang:'ì§œì™•',ansin:'å®‰åŸæ±¤é¢',buldak:'ç«é¸¡é¢',samyang:'ä¸‰å…»æ‹‰é¢',jin:'çœŸæ‹‰é¢',bibim:'æ‹Œé¢',wang:'ç‹ç›–æ¯é¢'},
        step:{ boil:w=>`ç…®æ²¸ ${w.water||''} æ°´`, cookSoup:p=>`åŠ å…¥${p.desc}ç…®`, cookSoupRange:p=>`ç…®é¢+è°ƒæ–™ (${p.min}â€“${p.max}åˆ†)`, cookNoodle:p=>`ç…®${p.desc}`, drainKeep:p=>`å€’æ‰æ°´ï¼Œç•™ ${p.left}`, mixDry:p=>`åŠ å…¥${p.desc}æ‹ŒåŒ€`, stirFry:p=>`åŠ å…¥${p.desc}ç¿»ç‚’`, rinseCold:()=>`å†·æ°´å†²æ´—`, add:p=>`åŠ å…¥${p.desc}`, pourCup:()=>`åŠ çƒ­æ°´è‡³åˆ»åº¦çº¿`, wait:()=>`ç›–ä¸Šç­‰å¾…`, finish:()=>`å®Œæˆï¼Œè£…ç¢—åŠ é…æ–™ã€‚` }, egg:{soft:'æºå¿ƒï¼šæ²¸è…¾å2â€“3åˆ†é’ŸåŠ å…¥', hard:'å…¨ç†Ÿï¼šä¸€å¼€å§‹åŠ å…¥'}
      },
      'fr-FR':{title:'Minuteur de Ramen ğŸœ',dev:'DÃ©veloppeur : B.C. Kim',
        labels:{lang:'â‘  Choisir la langue / TTS',ramen:'â‘¡ Choisir le ramen',heat:'â‘¢ Source de chaleur',topping:'â‘£ Choisir les garnitures',progress:'Avancement',detail:'Afficher les Ã©tapes',heatNote:'â€» Lâ€™induction rÃ©duit lâ€™Ã©bullition dâ€™environ 20 %'},
        ui:{ start:'DÃ©marrer', pause:'Pause', reset:'RÃ©initialiser', next:'Ã‰tape suivante', done:'TerminÃ© !', step:'Ã‰tape actuelle', ttsOn:'ğŸ”Š TTS ON', ttsOff:'ğŸ”‡ TTS OFF' },
        heat:{gas:'Gaz',ind:'Induction'}, toppings:{rice:'GÃ¢teau de riz',onion:'Ciboule',cheese:'Fromage',soft:'Å’uf mollet',hard:'Å’uf dur'},
        ramenNames:{shin:'Shin Ramyun',neoguri:'Neoguri',chapagetti:'Chapagetti',jjawang:'Jjawang',ansin:'Anseongtangmyun',buldak:'Buldak',samyang:'Samyang Ramen',jin:'Jin Ramen',bibim:'Bibim Men',wang:'Bol King (Cup)'},
        step:{ boil:w=>`Faire bouillir ${w.water||''} dâ€™eau`, cookSoup:p=>`Ajouter ${p.desc} et cuire`, cookSoupRange:p=>`Cuire nouilles + soupe (${p.min}â€“${p.max} min)`, cookNoodle:p=>`Cuire ${p.desc}`, drainKeep:p=>`Ã‰goutter, garder ${p.left} dâ€™eau`, mixDry:p=>`Ajouter ${p.desc} et mÃ©langer`, stirFry:p=>`Ajouter ${p.desc} et faire sauter`, rinseCold:()=>`Rincer Ã  lâ€™eau froide`, add:p=>`Ajouter ${p.desc}`, pourCup:()=>`Verser lâ€™eau jusquâ€™Ã  la ligne`, wait:()=>`Attendre (couvercle fermÃ©)`, finish:()=>`Servir et ajouter les garnitures.` }, egg:{soft:'Å’uf mollet : ajouter 2â€“3 min aprÃ¨s Ã©bullition', hard:'Å’uf dur : dÃ¨s le dÃ©but'}
      },
      'vi-VN':{title:'Bá»™ háº¹n giá» náº¥u mÃ¬ ğŸœ',dev:'NhÃ  phÃ¡t triá»ƒn: B.C. Kim',
        labels:{lang:'â‘  Chá»n ngÃ´n ngá»¯ / TTS',ramen:'â‘¡ Chá»n mÃ¬',heat:'â‘¢ Nguá»“n nhiá»‡t',topping:'â‘£ Chá»n topping',progress:'Tiáº¿n trÃ¬nh',detail:'Xem cÃ¡c bÆ°á»›c',heatNote:'â€» Báº¿p tá»« giáº£m ~20% thá»i gian Ä‘un sÃ´i'},
        ui:{ start:'Báº¯t Ä‘áº§u', pause:'Táº¡m dá»«ng', reset:'Äáº·t láº¡i', next:'BÆ°á»›c tiáº¿p', done:'Xong!', step:'BÆ°á»›c hiá»‡n táº¡i', ttsOn:'ğŸ”Š TTS Báº¬T', ttsOff:'ğŸ”‡ TTS Táº®T' },
        heat:{gas:'Báº¿p ga',ind:'Báº¿p tá»«'}, toppings:{rice:'BÃ¡nh gáº¡o',onion:'HÃ nh lÃ¡',cheese:'PhÃ´ mai',soft:'Trá»©ng lÃ²ng Ä‘Ã o',hard:'Trá»©ng chÃ­n'},
        ramenNames:{shin:'Shin Ramyun',neoguri:'Neoguri',chapagetti:'Chapagetti',jjawang:'Jjawang',ansin:'Anseongtangmyun',buldak:'Buldak',samyang:'Samyang Ramen',jin:'Jin Ramen',bibim:'Bibim Men',wang:'MÃ¬ cá»‘c King'},
        step:{ boil:w=>`Äun sÃ´i ${w.water||''} nÆ°á»›c`, cookSoup:p=>`Cho ${p.desc} vÃ  náº¥u`, cookSoupRange:p=>`Náº¥u mÃ¬ + gÃ³i sÃºp (${p.min}â€“${p.max} phÃºt)`, cookNoodle:p=>`Luá»™c ${p.desc}`, drainKeep:p=>`Äá»• nÆ°á»›c, chá»«a ${p.left}`, mixDry:p=>`Cho ${p.desc} vÃ  trá»™n`, stirFry:p=>`Cho ${p.desc} vÃ  xÃ o`, rinseCold:()=>`Xáº£ báº±ng nÆ°á»›c láº¡nh`, add:p=>`ThÃªm ${p.desc}`, pourCup:()=>`RÃ³t nÆ°á»›c sÃ´i Ä‘áº¿n váº¡ch`, wait:()=>`Äáº­y náº¯p Ä‘á»£i`, finish:()=>`MÃºc ra bÃ¡t vÃ  thÃªm topping.` }, egg:{soft:'LÃ²ng Ä‘Ã o: cho sau khi sÃ´i 2â€“3 phÃºt', hard:'LÃ²ng chÃ­n: cho tá»« Ä‘áº§u'}
      },
      'ja-JP':{title:'ãƒ©ãƒ¼ãƒ¡ãƒ³èª¿ç†ã‚¿ã‚¤ãƒãƒ¼ ğŸœ',dev:'é–‹ç™ºè€…: B.C. Kim',
        labels:{lang:'â‘  è¨€èª / éŸ³å£°',ramen:'â‘¡ ãƒ©ãƒ¼ãƒ¡ãƒ³ã‚’é¸æŠ',heat:'â‘¢ åŠ ç†±æ–¹æ³•',topping:'â‘£ ãƒˆãƒƒãƒ”ãƒ³ã‚°',progress:'é€²è¡ŒçŠ¶æ³',detail:'æ‰‹é †ã‚’è¡¨ç¤º',heatNote:'â€» IHã¯æ²¸é¨°æ™‚é–“ã‚’ç´„20%çŸ­ç¸®'},
        ui:{ start:'é–‹å§‹', pause:'ä¸€æ™‚åœæ­¢', reset:'ãƒªã‚»ãƒƒãƒˆ', next:'æ¬¡ã®å·¥ç¨‹', done:'å®Œæˆ!', step:'ç¾åœ¨ã®å·¥ç¨‹', ttsOn:'ğŸ”ŠéŸ³å£°ON', ttsOff:'ğŸ”‡éŸ³å£°OFF' },
        heat:{gas:'ã‚¬ã‚¹ã‚³ãƒ³ãƒ­',ind:'IH'}, toppings:{rice:'ãƒˆãƒƒã‚¯',onion:'ã­ã',cheese:'ãƒãƒ¼ã‚º',soft:'åŠç†Ÿåµ',hard:'å›ºã‚†ã§åµ'},
        ramenNames:{shin:'è¾›ãƒ©ãƒ¼ãƒ¡ãƒ³',neoguri:'ãƒã‚°ãƒª',chapagetti:'ãƒãƒ£ãƒ‘ã‚²ãƒ†ã‚£',jjawang:'ãƒãƒ£ãƒ¯ãƒ³',ansin:'å®‰åŸæ¹¯éºº',buldak:'ãƒ—ãƒ«ãƒ€ãƒƒã‚¯',samyang:'ã‚µãƒ ãƒ¤ãƒ³ãƒ©ãƒ¼ãƒ¡ãƒ³',jin:'ã‚¸ãƒ³ãƒ©ãƒ¼ãƒ¡ãƒ³',bibim:'ãƒ“ãƒ“ãƒ³éºº',wang:'ãƒ¯ãƒ³ãƒ‰ã‚¥ãƒƒã‚³ãƒ³(ã‚«ãƒƒãƒ—)'},
        step:{ boil:w=>`${w.water||''} ã®æ°´ã‚’æ²¸ã‹ã™`, cookSoup:p=>`${p.desc} ã‚’å…¥ã‚Œã¦ç…®ã‚‹`, cookSoupRange:p=>`éºº+ã‚¹ãƒ¼ãƒ—ï¼ˆ${p.min}ã€œ${p.max}åˆ†ï¼‰`, cookNoodle:p=>`${p.desc} ã‚’ã‚†ã§ã‚‹`, drainKeep:p=>`æ¹¯ã‚’åˆ‡ã‚Šã€${p.left} æ®‹ã™`, mixDry:p=>`${p.desc} ã‚’æ··ãœã‚‹`, stirFry:p=>`${p.desc} ã‚’åŠ ãˆã¦ç‚’ã‚ã‚‹`, rinseCold:()=>`å†·æ°´ã§ã—ã‚ã‚‹`, add:p=>`${p.desc} ã‚’åŠ ãˆã‚‹`, pourCup:()=>`ç·šã¾ã§ãŠæ¹¯ã‚’æ³¨ã`, wait:()=>`ãµãŸã‚’ã—ã¦å¾…ã¤`, finish:()=>`å™¨ã«ç››ã‚Šã€ãƒˆãƒƒãƒ”ãƒ³ã‚°ã‚’ã®ã›ã‚‹ã€‚` }, egg:{soft:'åŠç†Ÿï¼šæ²¸é¨°å¾Œ2ã€œ3åˆ†ã§æŠ•å…¥', hard:'å›ºã‚†ã§ï¼šæœ€åˆã«æŠ•å…¥'}
      },
      'es-ES':{title:'Temporizador de ramen ğŸœ',dev:'Desarrollador: B.C. Kim',
        labels:{lang:'â‘  Idioma / TTS',ramen:'â‘¡ Elige ramen',heat:'â‘¢ Fuente de calor',topping:'â‘£ Toppings',progress:'Progreso',detail:'Ver pasos',heatNote:'â€» La inducciÃ³n reduce ~20% el hervor'},
        ui:{ start:'Iniciar', pause:'Pausa', reset:'Reiniciar', next:'Siguiente paso', done:'Â¡Listo!', step:'Paso actual', ttsOn:'ğŸ”Š TTS ON', ttsOff:'ğŸ”‡ TTS OFF' },
        heat:{gas:'Gas',ind:'InducciÃ³n'}, toppings:{rice:'Pastel de arroz',onion:'Cebolleta',cheese:'Queso',soft:'Huevo medio',hard:'Huevo duro'},
        ramenNames:{shin:'Shin Ramyun',neoguri:'Neoguri',chapagetti:'Chapagetti',jjawang:'Jjawang',ansin:'Anseongtangmyun',buldak:'Buldak',samyang:'Samyang Ramen',jin:'Jin Ramen',bibim:'Bibim Men',wang:'TazÃ³n King (Copa)'},
        step:{ boil:w=>`Hervir ${w.water||''} de agua`, cookSoup:p=>`AÃ±adir ${p.desc} y cocer`, cookSoupRange:p=>`Cocer fideos + sopa (${p.min}â€“${p.max} min)`, cookNoodle:p=>`Cocer ${p.desc}`, drainKeep:p=>`Escurrir y reservar ${p.left} de agua`, mixDry:p=>`AÃ±adir ${p.desc} y mezclar`, stirFry:p=>`AÃ±adir ${p.desc} y saltear`, rinseCold:()=>`Enjuagar con agua frÃ­a`, add:p=>`AÃ±adir ${p.desc}`, pourCup:()=>`Verter agua caliente hasta la lÃ­nea`, wait:()=>`Esperar con tapa`, finish:()=>`Servir y aÃ±adir toppings.` }, egg:{soft:'Huevo medio: aÃ±adir 2â€“3 min tras hervir', hard:'Huevo duro: al inicio'}
      },
      'de-DE':{title:'Ramen-Timer ğŸœ',dev:'Entwickler: B.C. Kim',
        labels:{lang:'â‘  Sprache / TTS',ramen:'â‘¡ Ramen wÃ¤hlen',heat:'â‘¢ WÃ¤rmequelle',topping:'â‘£ Toppings wÃ¤hlen',progress:'Fortschritt',detail:'Schritte anzeigen',heatNote:'â€» Induktion verkÃ¼rzt die Kochzeit ~20%'},
        ui:{ start:'Start', pause:'Pause', reset:'ZurÃ¼cksetzen', next:'NÃ¤chster Schritt', done:'Fertig!', step:'Aktueller Schritt', ttsOn:'ğŸ”Š TTS AN', ttsOff:'ğŸ”‡ TTS AUS' },
        heat:{gas:'Gasherd',ind:'Induktion'}, toppings:{rice:'Reiskuchen',onion:'Lauchzwiebel',cheese:'KÃ¤se',soft:'Weiches Ei',hard:'Hartes Ei'},
        ramenNames:{shin:'Shin Ramyun',neoguri:'Neoguri',chapagetti:'Chapagetti',jjawang:'Jjawang',ansin:'Anseongtangmyun',buldak:'Buldak',samyang:'Samyang Ramen',jin:'Jin Ramen',bibim:'Bibim Men',wang:'King-Becher'},
        step:{ boil:w=>`${w.water||''} Wasser zum Kochen bringen`, cookSoup:p=>`${p.desc} zugeben und kochen`, cookSoupRange:p=>`Nudeln + Suppe (${p.min}â€“${p.max} Min)`, cookNoodle:p=>`${p.desc} kochen`, drainKeep:p=>`${p.left} Wasser behalten`, mixDry:p=>`${p.desc} zugeben und mischen`, stirFry:p=>`${p.desc} zugeben und anbraten`, rinseCold:()=>`Mit kaltem Wasser abschrecken`, add:p=>`${p.desc} hinzufÃ¼gen`, pourCup:()=>`HeiÃŸes Wasser bis zur Linie`, wait:()=>`Mit Deckel warten`, finish:()=>`Servieren und Toppings ergÃ¤nzen.` }, egg:{soft:'Weich: 2â€“3 Min nach dem Kochen', hard:'Hart: gleich am Anfang'}
      }
    };

    // ===== ìƒíƒœ =====
    let state={lang:'ko-KR',tts:true,heat:'gas',ramen:null,toppings:new Set(),egg:null,steps:[],stepIndex:0,running:false,remaining:0};

    // ===== ìœ í‹¸ =====
    const qs=(s)=>document.querySelector(s);
    const format=(s)=>{const m=Math.max(0,Math.floor(s));const mm=String(Math.floor(m/60)).padStart(2,'0');const ss=String(m%60).padStart(2,'0');return `${mm}:${ss}`};
    function i18n(){return I18N[state.lang]||I18N['en-US']}
    function speak(txt){ if(!state.tts) return; const u=new SpeechSynthesisUtterance(txt); u.lang=state.lang; const vs=speechSynthesis.getVoices(); const v=vs.find(v=>v.lang===state.lang)||vs.find(v=>v.lang.startsWith(state.lang.slice(0,2)))||vs[0]; if(v) u.voice=v; speechSynthesis.cancel(); speechSynthesis.speak(u); }

    function heatAdjusted(steps){ const f=state.heat==='ind'?0.8:1.0; return steps.map(s=> s.type==='boil'&&s.sec?{...s,sec:Math.max(30,Math.round(s.sec*f))}:{...s}); }
    function composeSteps(base){ const eggNote= state.egg?{type:'add',sec:0,params:{desc: (state.egg==='soft'?i18n().egg.soft:i18n().egg.hard)}}:null; const arr=[...base.steps]; if(eggNote) arr.splice(1,0,eggNote); return heatAdjusted(arr); }

    // ===== ì–¸ì–´ ë²„íŠ¼ êµ¬ì„± =====
    const LANGS=[["ko-KR","í•œêµ­ì–´"],["en-US","English"],["zh-CN","ä¸­æ–‡"],["fr-FR","FranÃ§ais"],["vi-VN","Tiáº¿ng Viá»‡t"],["ja-JP","æ—¥æœ¬èª"],["es-ES","EspaÃ±ol"],["de-DE","Deutsch"]];
    const langButtons=qs('#langButtons');
    LANGS.forEach(([code,label])=>{ const b=document.createElement('button'); b.className='btn lang single'; b.dataset.lang=code; b.textContent=label; langButtons.appendChild(b); });

    // ===== ë¼ë©´ ë²„íŠ¼ êµ¬ì„± =====
    const RAMEN_IDS=['shin','neoguri','chapagetti','jjawang','ansin','buldak','samyang','jin','bibim','wang'];
    const ramenButtons=qs('#ramenButtons');
    function renderRamenButtons(){ ramenButtons.innerHTML=''; RAMEN_IDS.forEach(id=>{ const b=document.createElement('button'); b.className='btn ramen single'; b.dataset.ramen=id; b.textContent=i18n().ramenNames[id]||id; if(state.ramen===id) b.classList.add('selected'); ramenButtons.appendChild(b); }); }

    // ===== ê³µí†µ ì„ íƒ í‘œì‹œ =====
    function setSingleSelected(selector, target){ document.querySelectorAll(selector).forEach(el=>el.classList.remove('selected')); target.classList.add('selected'); }
    function toggleMultiSelected(target){ target.classList.toggle('selected'); }

    // ===== ì´ë²¤íŠ¸ ë°”ì¸ë”© =====
    document.addEventListener('click',(e)=>{
      const t=e.target;
      if(t.matches('.lang.single')){ state.lang=t.dataset.lang; document.documentElement.lang=state.lang.substring(0,2); setSingleSelected('.lang.single', t); applyTranslations(); if(state.ramen){ state.steps=composeSteps(RECIPES[state.ramen]); renderSteps(); updateCurrent(true);} renderStatus(); }
      if(t.matches('#toggleTts')){ state.tts=!state.tts; t.textContent = state.tts? i18n().ui.ttsOn : i18n().ui.ttsOff; renderStatus(); }
      if(t.matches('.btn.ramen')){ state.ramen=t.dataset.ramen; setSingleSelected('.btn.ramen', t); state.steps=composeSteps(RECIPES[state.ramen]); state.stepIndex=0; state.running=false; state.remaining=0; renderSteps(); updateCurrent(); renderStatus(); }
      if(t.matches('.heat.single')){ state.heat=t.dataset.heat; setSingleSelected('.heat.single', t); // update heat labels (already translated via applyTranslations)
        if(state.ramen){ state.steps=composeSteps(RECIPES[state.ramen]); renderSteps(); updateCurrent(true);} renderStatus(); }
      if(t.matches('.topping.multi')){ const key=t.dataset.top; state.toppings.has(key)?state.toppings.delete(key):state.toppings.add(key); toggleMultiSelected(t); renderStatus(); }
      if(t.matches('.egg.single')){ state.egg=t.dataset.egg; setSingleSelected('.egg.single', t); if(state.ramen){ state.steps=composeSteps(RECIPES[state.ramen]); renderSteps(); updateCurrent(true);} renderStatus(); }
      if(t.matches('#startBtn')) startTimer();
      if(t.matches('#pauseBtn')) state.running=false;
      if(t.matches('#resetBtn')){ state.running=false; state.remaining=0; qs('#timer').textContent='00:00'; }
      if(t.matches('#nextBtn')) nextStep();
      if(t.matches('#plus10')){ state.remaining+=10; qs('#timer').textContent=format(state.remaining); }
      if(t.matches('#minus10')){ state.remaining=Math.max(0,state.remaining-10); qs('#timer').textContent=format(state.remaining); }
    });

    // ===== ë²ˆì—­ì„ UIì— ì ìš© =====
    function applyTranslations(){
      const t=i18n();
      qs('#title').textContent=t.title; qs('#dev').textContent=t.dev;
      qs('#langLabel').textContent=t.labels.lang; qs('#ramenLabel').textContent=t.labels.ramen; qs('#heatLabel').textContent=t.labels.heat; qs('#topLabel').textContent=t.labels.topping; qs('#detailSummary').textContent=t.labels.detail; qs('#heatNote').textContent=t.labels.heatNote;
      qs('#gasBtn').textContent=t.heat.gas; qs('#indBtn').textContent=t.heat.ind; qs('#toggleTts').textContent = state.tts? t.ui.ttsOn : t.ui.ttsOff;
      qs('#startBtn').textContent=t.ui.start; qs('#pauseBtn').textContent=t.ui.pause; qs('#resetBtn').textContent=t.ui.reset; qs('#nextBtn').textContent=t.ui.next;
      // toppings
      qs('#t1').textContent=t.toppings.rice; qs('#t2').textContent=t.toppings.onion; qs('#t3').textContent=t.toppings.cheese; qs('#e1').textContent=t.toppings.soft; qs('#e2').textContent=t.toppings.hard;
      // ramen buttons need re-render for names
      renderRamenButtons();
    }

    function renderStatus(){ const row=qs('#statusRow'); row.innerHTML=''; const add=(txt)=>{const s=document.createElement('span'); s.className='pill'; s.textContent=txt; row.appendChild(s)}; if(state.ramen) add(i18n().ramenNames[state.ramen]); add(i18n().heat[state.heat]); if(state.toppings.size){ const list=[...state.toppings].map(k=> i18n().toppings[k]).join(', '); add(list? (state.lang==='ko-KR'?`í† í•‘: ${list}`:`Toppings: ${list}`):''); } if(state.egg) add(state.egg==='soft'? i18n().toppings.soft : i18n().toppings.hard); add(state.tts? i18n().ui.ttsOn : i18n().ui.ttsOff); }

    function renderSteps(){ const ol=qs('#stepList'); ol.innerHTML=''; state.steps.forEach((st,i)=>{ const li=document.createElement('li'); const label=(i18n().step[st.type]||(()=>st.type))(st.params||{}); li.textContent=`${i+1}. ${label}` + (st.sec?` â€” ${format(st.sec)}`:''); ol.appendChild(li); }); }

    function updateCurrent(skipSpeak){ if(!state.ramen){ qs('#output').textContent= state.lang==='ko-KR'? 'ë¼ë©´ì„ ì„ íƒí•˜ì„¸ìš”.' : 'Please select a ramen.'; return; } const st=state.steps[state.stepIndex]; const label=(i18n().step[st.type]||(()=>st.type))(st.params||{}); const heat=i18n().heat[state.heat]; qs('#output').textContent=`${i18n().ui.step}: ${label} Â· (${heat})`; qs('#timer').textContent=format(st.sec||0); state.remaining=st.sec||0; state.running=false; if(!skipSpeak) speak(qs('#output').textContent); }

    function startTimer(){ if(!state.ramen){ speak(state.lang==='ko-KR'?'ë¼ë©´ì„ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”.':'Please select a ramen first.'); return;} state.running=true; }
    function nextStep(){ if(!state.ramen) return; if(state.stepIndex < state.steps.length-1){ state.stepIndex++; updateCurrent(); } else { speak(i18n().ui.done); } }

    setInterval(()=>{ if(!state.running) return; if(state.remaining>0){ state.remaining--; qs('#timer').textContent=format(state.remaining); if(state.remaining===0){ state.running=false; speak('ëµ! '+i18n().ui.done+' â€” '+i18n().ui.next); } } },1000);

    // ì´ˆê¸° ì„¸íŒ…
    applyTranslations();
    // ê¸°ë³¸ ì„ íƒ í‘œì‹œ(í•œêµ­ì–´, ê°€ìŠ¤)
    document.addEventListener('DOMContentLoaded',()=>{
      const ko = document.querySelector('.lang.single[data-lang="ko-KR"]'); if(ko) ko.classList.add('selected');
      const gas = document.querySelector('.heat.single[data-heat="gas"]'); if(gas) gas.classList.add('selected');
    });
  </script>
</body>
</html>
